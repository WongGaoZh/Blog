## tcp,udp,http,socket,NIO, Netty, RPC都是什么

工作了很久,一直听说各种tcp,udp,http等网络协议, 以及socket编程, 还有NIO的模型的优势,还有就是大家都很了解的RPC框架, 有点迷糊, 所以找了一个时间来统一区分一下,这些名字以及他们是解决什么问题的.

### 简单描述
tcp和udp是通信协议最底层的协议.所有的协议底层都是这两个

Socket是操作系统为了方便管理数据交互,在用户空间和内核空间做的一套api.

NIO是为了方便使用socket和提升socket的性能做了一层优化和框架

netty是为了减少nio的使用体验感. 做了一套稳定包括

断线重连、 网络闪断、心跳处理、半包读写、 网络拥塞和异常流的处理等等框架

rpc是一种通信协议,在分布式情况下

RPC协议的主要目的是做到不同服务间调用方法像同一服务间调用本地方法一样

### tcp和udp

tcp和udp是通信协议最底层的协议.位于OSI模型里面的传输层,

包括tcp的四次握手等等就不具体介绍了.

## socket是什么
我的理解是操作系统为了让开发者使用TCP和UDP等时候涉及到了硬件水平 ,这会就必须使用到了内核空间的方法. 从而为了让开发者在更好的使用.封装了一层api接口. 
也就是socket. 


sock_fd = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP); 
拿到socket文件的句柄,
socket的核心接口是

socket() 
Connect() 
bind()
listen()
accept()

对于客户端，得到socket_fd之后，你就可以执行connect()方法向服务端发起建立连接的请求，此时就会发生TCP三次握手（如下图所示）。

客户端可以执行send() 方法发送消息，服务端可以执行recv()方法接收消息，反过来，服务器也可以执行send()，客户端执行recv()方法。

### NIO

NIO是为了方便使用socket和提升socket的性能做了一层优化和框架 , 同时因为BIO的性能问题, 所以使用NIO

### netty

netty是为了提高NIO的使用体验感. 做了一套稳定包括 断线重连、 网络闪断、心跳处理、半包读写、 网络拥塞和异常流的处理等等的框架

### rpc

让一个进程（或线程）可以调用另一个进程（或线程）中的函数或方法，就像调用本地函数一样，但实际上这些函数或方法运行在不同的机器上。
在客户端调用远程服务时，RPC 框架会动态生成代理对象，代理对象负责将远程方法的调用转发给服务提供者，并处理参数序列化、网络传输、结果反序列化等细节。

#### 说到rpc 还需要说序列化框架
Json使用的是acsii码来序列化数据，而protocol buffer使用的是二进制来序列化数据。二进制在存储对象和传递对象的时候更加紧凑， 同时两个框架在算法层面也有一定的不同。


